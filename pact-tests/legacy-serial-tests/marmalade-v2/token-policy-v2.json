{"module":{"imports":[],"name":{"namespace":"kip","name":"token-policy-v2"},"code":"(interface token-policy-v2\n\n  (defschema token-info\n    id:string\n    supply:decimal\n    precision:integer\n    uri:string\n    policies:[module{token-policy-v2}])\n\n  (defun enforce-mint:bool\n    ( token:object{token-info}\n      account:string\n      guard:guard\n      amount:decimal\n    )\n    @doc \"Minting policy for TOKEN to ACCOUNT for AMOUNT.\"\n    @model [\n      (property (!= account \"\"))\n      (property (> amount 0.0))\n    ]\n  )\n\n  (defun enforce-burn:bool\n    ( token:object{token-info}\n      account:string\n      amount:decimal\n    )\n    @doc \"Burning policy for TOKEN to ACCOUNT for AMOUNT.\"\n    @model [\n      (property (!= account \"\"))\n      (property (> amount 0.0))\n    ]\n  )\n\n  (defun enforce-init:bool\n    (token:object{token-info})\n    @doc \"Enforce policy on TOKEN initiation.\"\n  )\n\n  (defun enforce-offer:bool\n    ( token:object{token-info}\n      seller:string\n      amount:decimal\n      timeout:integer\n      sale-id:string )\n    @doc \"Offer policy of sale SALE-ID by SELLER of AMOUNT of TOKEN.\"\n  )\n\n  (defun enforce-buy:bool\n    ( token:object{token-info}\n      seller:string\n      buyer:string\n      buyer-guard:guard\n      amount:decimal\n      sale-id:string )\n    @doc \"Buy policy on SALE-ID by SELLER to BUYER AMOUNT of TOKEN.\"\n  )\n\n  (defun enforce-withdraw:bool\n    ( token:object{token-info}\n      seller:string\n      amount:decimal\n      timeout:integer\n      sale-id:string )\n    @doc \"Withdraw policy on SALE-ID by SELLER of AMOUNT of TOKEN\"\n  )\n\n  (defun enforce-transfer:bool\n    ( token:object{token-info}\n      sender:string\n      guard:guard\n      receiver:string\n      amount:decimal )\n    @doc \" Enforce rules on transfer of TOKEN AMOUNT from SENDER to RECEIVER. \\\n         \\ Also governs rotate of SENDER (with same RECEIVER and 0.0 AMOUNT). \"\n  )\n\n)\n","meta":{"model":[],"docs":null}},"refMap":{"enforce-mint":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"token","type":{"schema":"object","type":{"var":{"ref":{"modname":{"namespace":"kip","name":"token-policy-v2"},"name":"token-info","meta":{"model":[],"docs":null},"i":null,"fields":[{"name":"id","type":"string","info":null},{"name":"supply","type":"decimal","info":null},{"name":"precision","type":"integer","info":null},{"name":"uri","type":"string","info":null},{"name":"policies","type":{"list":{"modspec":[{"var":{"ref":{"refSpec":null,"refInfo":null,"refName":{"namespace":"kip","name":"token-policy-v2"}}},"i":null}]}},"info":null}]}},"i":null},"partial":"full"},"info":null},{"name":"account","type":"string","info":null},{"name":"guard","type":{"guard":null},"info":null},{"name":"amount","type":"decimal","info":null}],"return":"bool"},"defName":"enforce-mint","defBody":{"scope":{"list":[],"type":"*","i":null}},"module":{"namespace":"kip","name":"token-policy-v2"},"meta":{"model":[{"list":[{"atom":"property","q":[],"i":null},{"list":[{"atom":"!=","q":[],"i":null},{"atom":"account","q":[],"i":null},{"i":null,"lit":""}],"d":"()","i":null}],"d":"()","i":null},{"list":[{"atom":"property","q":[],"i":null},{"list":[{"atom":">","q":[],"i":null},{"atom":"amount","q":[],"i":null},{"i":null,"lit":0}],"d":"()","i":null}],"d":"()","i":null}],"docs":"Minting policy for TOKEN to ACCOUNT for AMOUNT."},"info":null}},"enforce-burn":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"token","type":{"schema":"object","type":{"var":{"ref":{"modname":{"namespace":"kip","name":"token-policy-v2"},"name":"token-info","meta":{"model":[],"docs":null},"i":null,"fields":[{"name":"id","type":"string","info":null},{"name":"supply","type":"decimal","info":null},{"name":"precision","type":"integer","info":null},{"name":"uri","type":"string","info":null},{"name":"policies","type":{"list":{"modspec":[{"var":{"ref":{"refSpec":null,"refInfo":null,"refName":{"namespace":"kip","name":"token-policy-v2"}}},"i":null}]}},"info":null}]}},"i":null},"partial":"full"},"info":null},{"name":"account","type":"string","info":null},{"name":"amount","type":"decimal","info":null}],"return":"bool"},"defName":"enforce-burn","defBody":{"scope":{"list":[],"type":"*","i":null}},"module":{"namespace":"kip","name":"token-policy-v2"},"meta":{"model":[{"list":[{"atom":"property","q":[],"i":null},{"list":[{"atom":"!=","q":[],"i":null},{"atom":"account","q":[],"i":null},{"i":null,"lit":""}],"d":"()","i":null}],"d":"()","i":null},{"list":[{"atom":"property","q":[],"i":null},{"list":[{"atom":">","q":[],"i":null},{"atom":"amount","q":[],"i":null},{"i":null,"lit":0}],"d":"()","i":null}],"d":"()","i":null}],"docs":"Burning policy for TOKEN to ACCOUNT for AMOUNT."},"info":null}},"enforce-init":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"token","type":{"schema":"object","type":{"var":{"ref":{"modname":{"namespace":"kip","name":"token-policy-v2"},"name":"token-info","meta":{"model":[],"docs":null},"i":null,"fields":[{"name":"id","type":"string","info":null},{"name":"supply","type":"decimal","info":null},{"name":"precision","type":"integer","info":null},{"name":"uri","type":"string","info":null},{"name":"policies","type":{"list":{"modspec":[{"var":{"ref":{"refSpec":null,"refInfo":null,"refName":{"namespace":"kip","name":"token-policy-v2"}}},"i":null}]}},"info":null}]}},"i":null},"partial":"full"},"info":null}],"return":"bool"},"defName":"enforce-init","defBody":{"scope":{"list":[],"type":"*","i":null}},"module":{"namespace":"kip","name":"token-policy-v2"},"meta":{"model":[],"docs":"Enforce policy on TOKEN initiation."},"info":null}},"enforce-buy":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"token","type":{"schema":"object","type":{"var":{"ref":{"modname":{"namespace":"kip","name":"token-policy-v2"},"name":"token-info","meta":{"model":[],"docs":null},"i":null,"fields":[{"name":"id","type":"string","info":null},{"name":"supply","type":"decimal","info":null},{"name":"precision","type":"integer","info":null},{"name":"uri","type":"string","info":null},{"name":"policies","type":{"list":{"modspec":[{"var":{"ref":{"refSpec":null,"refInfo":null,"refName":{"namespace":"kip","name":"token-policy-v2"}}},"i":null}]}},"info":null}]}},"i":null},"partial":"full"},"info":null},{"name":"seller","type":"string","info":null},{"name":"buyer","type":"string","info":null},{"name":"buyer-guard","type":{"guard":null},"info":null},{"name":"amount","type":"decimal","info":null},{"name":"sale-id","type":"string","info":null}],"return":"bool"},"defName":"enforce-buy","defBody":{"scope":{"list":[],"type":"*","i":null}},"module":{"namespace":"kip","name":"token-policy-v2"},"meta":{"model":[],"docs":"Buy policy on SALE-ID by SELLER to BUYER AMOUNT of TOKEN."},"info":null}},"enforce-transfer":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"token","type":{"schema":"object","type":{"var":{"ref":{"modname":{"namespace":"kip","name":"token-policy-v2"},"name":"token-info","meta":{"model":[],"docs":null},"i":null,"fields":[{"name":"id","type":"string","info":null},{"name":"supply","type":"decimal","info":null},{"name":"precision","type":"integer","info":null},{"name":"uri","type":"string","info":null},{"name":"policies","type":{"list":{"modspec":[{"var":{"ref":{"refSpec":null,"refInfo":null,"refName":{"namespace":"kip","name":"token-policy-v2"}}},"i":null}]}},"info":null}]}},"i":null},"partial":"full"},"info":null},{"name":"sender","type":"string","info":null},{"name":"guard","type":{"guard":null},"info":null},{"name":"receiver","type":"string","info":null},{"name":"amount","type":"decimal","info":null}],"return":"bool"},"defName":"enforce-transfer","defBody":{"scope":{"list":[],"type":"*","i":null}},"module":{"namespace":"kip","name":"token-policy-v2"},"meta":{"model":[],"docs":" Enforce rules on transfer of TOKEN AMOUNT from SENDER to RECEIVER.  Also governs rotate of SENDER (with same RECEIVER and 0.0 AMOUNT). "},"info":null}},"token-info":{"ref":{"modname":{"namespace":"kip","name":"token-policy-v2"},"name":"token-info","meta":{"model":[],"docs":null},"i":null,"fields":[{"name":"id","type":"string","info":null},{"name":"supply","type":"decimal","info":null},{"name":"precision","type":"integer","info":null},{"name":"uri","type":"string","info":null},{"name":"policies","type":{"list":{"modspec":[{"var":{"ref":{"refSpec":null,"refInfo":null,"refName":{"namespace":"kip","name":"token-policy-v2"}}},"i":null}]}},"info":null}]}},"enforce-offer":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"token","type":{"schema":"object","type":{"var":{"ref":{"modname":{"namespace":"kip","name":"token-policy-v2"},"name":"token-info","meta":{"model":[],"docs":null},"i":null,"fields":[{"name":"id","type":"string","info":null},{"name":"supply","type":"decimal","info":null},{"name":"precision","type":"integer","info":null},{"name":"uri","type":"string","info":null},{"name":"policies","type":{"list":{"modspec":[{"var":{"ref":{"refSpec":null,"refInfo":null,"refName":{"namespace":"kip","name":"token-policy-v2"}}},"i":null}]}},"info":null}]}},"i":null},"partial":"full"},"info":null},{"name":"seller","type":"string","info":null},{"name":"amount","type":"decimal","info":null},{"name":"timeout","type":"integer","info":null},{"name":"sale-id","type":"string","info":null}],"return":"bool"},"defName":"enforce-offer","defBody":{"scope":{"list":[],"type":"*","i":null}},"module":{"namespace":"kip","name":"token-policy-v2"},"meta":{"model":[],"docs":"Offer policy of sale SALE-ID by SELLER of AMOUNT of TOKEN."},"info":null}},"enforce-withdraw":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"token","type":{"schema":"object","type":{"var":{"ref":{"modname":{"namespace":"kip","name":"token-policy-v2"},"name":"token-info","meta":{"model":[],"docs":null},"i":null,"fields":[{"name":"id","type":"string","info":null},{"name":"supply","type":"decimal","info":null},{"name":"precision","type":"integer","info":null},{"name":"uri","type":"string","info":null},{"name":"policies","type":{"list":{"modspec":[{"var":{"ref":{"refSpec":null,"refInfo":null,"refName":{"namespace":"kip","name":"token-policy-v2"}}},"i":null}]}},"info":null}]}},"i":null},"partial":"full"},"info":null},{"name":"seller","type":"string","info":null},{"name":"amount","type":"decimal","info":null},{"name":"timeout","type":"integer","info":null},{"name":"sale-id","type":"string","info":null}],"return":"bool"},"defName":"enforce-withdraw","defBody":{"scope":{"list":[],"type":"*","i":null}},"module":{"namespace":"kip","name":"token-policy-v2"},"meta":{"model":[],"docs":"Withdraw policy on SALE-ID by SELLER of AMOUNT of TOKEN"},"info":null}}}}
